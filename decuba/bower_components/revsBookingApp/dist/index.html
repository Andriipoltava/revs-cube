<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>React Webpack Template Title</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
	<style>
		html
		{
			background-color: #F2F2F2;
			font-family: "bebas-neue";
			font-size: 10px;
		}

		body
		{
			font-size: 16px;
		}

		.container
		{
			vertical-align: top;
			margin: 20px;
		}

		.dib
		{
			display: inline-block;
		}

		.bar .rev-booking__step
		{
			display: none;
			background-color: white;
			padding: 30px;
			box-shadow: 0px 1px 8px rgba(0,0,0,0.2);
			border-radius: 3px;
			margin-top: 30px;
		}

		.bar .rev-booking__step--reached
		{
			display: block;
		}

		.widget
		{
			width: 350px;
			background-color: white;
			box-shadow: 0px 1px 8px rgba(0,0,0,0.2);
			border-radius: 3px;
		}

		.full
		{
			max-width: 690px;
		}

	</style>
</head>
<body>

	<div class="container">
		<h1>Bar</h1>
		<button onclick="unmount('app-bar')">Unmount</button>
	  <div id="app-bar" class="bar">APPLICATION CONTENT (bar app)</div>
	</div>

	<div class="container dib">
		<h1>Full</h1>
		<button onclick="unmount('app-full')">Unmount</button>
	  <div id="app-full" class="full">APPLICATION CONTENT (full app)</div>
	</div>

	<div class="container dib">
		<h1>Widget</h1>
		<button onclick="unmount('app-widget')">Unmount</button>
	  <div id="app-widget" class="widget">APPLICATION CONTENT (widget)</div>
	</div>

  <script>__REACT_DEVTOOLS_GLOBAL_HOOK__ = parent.__REACT_DEVTOOLS_GLOBAL_HOOK__</script>
  <script type="text/javascript" src="/assets/app.min.js"></script>


  <script>

		// Render the main component into the dom
		var settingsBar = {
			environment: 'dev',
			endpoint_url: "https://dev.v2.rdc.c3/wp-admin/admin-ajax.php",
			layout: 'bar',
			title: 'Enquire Now',
		}
		var prepopDataBar = {
			brand : 'decuba',
//			party_type : 18,				// Table Booking
			// bar_id : 205,
		}

		var domNodeBar = document.getElementById('app-bar');
		RevsBookingApp.addBookingWidget(domNodeBar, settingsBar, prepopDataBar);
		domNodeBar.addEventListener('revs-booking-update', function(data) { console.log('update', data.detail); });
		domNodeBar.addEventListener('revs-booking-progress', function(data) { console.log('progress', data.detail); });
		domNodeBar.addEventListener('revs-booking-complete', function(data) { console.log('complete', data.detail); });
		domNodeBar.addEventListener('revs-booking-destroy', function(data) { console.log('destroy', data.detail); });



		// Render the main component into the dom
		var settingsFull = {
			environment: 'dev',
			endpoint_url: "https://dev.v2.rdc.c3/wp-admin/admin-ajax.php",
			layout: 'full',
			title: 'Your booking',
			intro: '<p>Whether you want to join us for lunch, dinner or a few rum cocktails we would always recommend you book a table first. Leave your details below and we will call you back as soon as possible to confirm.</p>',
			company_name : 'Revoluci√≥n de Cuba',
		}
		var prepopDataFull = {
			brand : 'decuba',
//			party_type : 18,				// Table Booking
			bar_id : 205,
		}

		var domNodeFull = document.getElementById('app-full');
		RevsBookingApp.addBookingWidget(domNodeFull, settingsFull, prepopDataFull);
		domNodeFull.addEventListener('revs-booking-update', function(data) { console.log('update', data.detail); });
		domNodeFull.addEventListener('revs-booking-progress', function(data) { console.log('progress', data.detail); });
		domNodeFull.addEventListener('revs-booking-complete', function(data) { console.log('complete', data.detail); });
		domNodeFull.addEventListener('revs-booking-destroy', function(data) { console.log('destroy', data.detail); });



		// Render the main component into the dom
		var settingsWidget = {
			environment: 'dev',
			endpoint_url: "https://dev.v2.rdc.c3/wp-admin/admin-ajax.php",
			title: "It's Party Time",
			// occasion_dropdown: [
			// 	{value: 1, label: "One"},
			// 	{value: 2, label: "Two"},
			// 	{value: 3, label: "Three"},
			// ]
			relax_bar_validation: true,
		}
		var prepopDataWidget = {
			// forename : 'John',
			// surname : 'Smith',
			brand : 'decuba',
			bar_id : 231,				// Eventos de Cuba
			// bar_id : 127,				// Manchester - Deansgate Locks
		}

		var domNodeWidget = document.getElementById('app-widget');
		RevsBookingApp.addBookingWidget(domNodeWidget, settingsWidget, prepopDataWidget);
		domNodeWidget.addEventListener('revs-booking-update', function(data) { console.log('update', data.detail); });
		domNodeWidget.addEventListener('revs-booking-progress', function(data) { console.log('progress', data.detail); });
		domNodeWidget.addEventListener('revs-booking-complete', function(data) { console.log('complete', data.detail); });
		domNodeWidget.addEventListener('revs-booking-destroy', function(data) { console.log('destroy', data.detail); });


		function unmount(id)
		{
			var element = document.getElementById(id);
			RevsBookingApp.removeBookingWidget(element);
		}


  </script>
</body>
</html>
